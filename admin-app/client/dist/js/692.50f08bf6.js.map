{"version":3,"file":"js/692.50f08bf6.js","mappings":"qPAYA,MAAMA,GAAoBC,EAAAA,EAAAA,K,8OCN1B,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,4UC2CA,MAAMF,GAAoBC,EAAAA,EAAAA,KACpBE,GAAcC,EAAAA,EAAAA,KAMdC,IADQC,EAAAA,EAAAA,OACCC,EAAAA,EAAAA,OAGf,IAAIC,GAAaC,EAAAA,EAAAA,IAAS,CACtBC,MAAO,GACPC,SAAU,KAGVC,GAAiBH,EAAAA,EAAAA,IAAS,CAC1BI,UAAW,GACXC,aAAc,KAyClB,SAASC,IAEL,MAAyB,KAArBP,EAAWE,OAEXE,EAAeC,UAAY,IAEpB,IAIPD,EAAeC,UAAY,qBAEpB,EAIf,CAEA,SAASG,IAEL,MAA4B,KAAxBR,EAAWG,UAEXC,EAAeE,aAAe,IAEvB,IAIRF,EAAeE,aAAe,qBAEvB,EAId,CAIAG,eAAeC,EAAuBR,GAElC,UAEuBS,EAAAA,EAAIC,uBAAuB,CAAEC,kBAAmBX,IAEvEL,EAAOiB,KAAK,CAAEC,KAAM,mBAAoBC,MAAO,CAAEH,kBAAmBX,IAEpE,CAAE,MAAOe,GAERC,QAAQC,IAAIF,EAEb,CACJ,CAGAR,eAAeW,IAEX,GAAIb,KAAoBC,IAAqB,CAE7ChB,EAAkB6B,wBAAuB,GAEzC,IAEA,MAAMC,QAAiBX,EAAAA,EAAIY,MAAMvB,GAEjCL,EAAY6B,UAAUF,EAASG,MAAOH,EAASI,iBAE/ClC,EAAkBmC,gBAAkB,WAAWL,EAASG,MAAMvB,QAE9DV,EAAkBoC,4BAElBC,OAAOC,SAASC,QAAQ,qBAExB,CAAE,MAAOd,GAE6B,mDAAlCA,EAAMK,UAAUU,MAAMC,eAElBvB,EAAuBV,EAAWE,MAI1C,CAEF,CAEAV,EAAkB6B,wBAAuB,EAE3C,C,OAhHAa,EAAAA,EAAAA,KAAU,KAEN3B,IAEAC,GAAmB,KAKvB2B,EAAAA,EAAAA,KAAU,KAENC,EAAAA,EAAYC,aAAa,KAK7BH,EAAAA,EAAAA,KAAU,KAENE,EAAAA,EAAYC,aAAa,I,4iDC/F7B,MAAM3C,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://client/./src/components/modals/loading_overlay.vue","webpack://client/./src/components/modals/loading_overlay.vue?1eca","webpack://client/./src/views/Login.vue","webpack://client/./src/views/Login.vue?240b"],"sourcesContent":["<template>\r\n  <div class=\"overlay\" v-if=\"interactive_store.display_loading_overlay\">\r\n    <font-awesome-icon\r\n      class=\"fa-solid fa-spinner\"\r\n      id=\"spinner\"\r\n      icon=\"fa-solid fa-spinner\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useInteractiveStore } from '@/stores/interactive'\r\nconst interactive_store = useInteractiveStore()\r\n</script>\r\n\r\n<style scoped>\r\n.overlay {\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  position: fixed;\r\n  z-index: 1000;\r\n  inset: 0; /* shorthand for top, left, right, bottom */\r\n  display: flex;               /* enable centering */\r\n  justify-content: center;     /* center horizontally */\r\n  align-items: center;         /* center vertically */\r\n}\r\n\r\n#spinner {\r\n  font-size: 3rem;\r\n  color: white;\r\n  animation: spin 2s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n</style>\r\n","import script from \"./loading_overlay.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./loading_overlay.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./loading_overlay.vue?vue&type=style&index=0&id=758fe2b0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-758fe2b0\"]])\n\nexport default __exports__","<template>\r\n\r\n <div>\r\n\r\n   <SUCCESSALERTBOX>{{interactive_store.backend_message}}</SUCCESSALERTBOX>\r\n\r\n   <ERRORALERTBOX>{{interactive_store.backend_message}}</ERRORALERTBOX>\r\n\r\n   <LoadingOverlay/>\r\n\r\n   <div class = \"container\">\r\n\r\n    <h1>Admin Login</h1>\r\n\r\n    <form>\r\n            \r\n        <div>\r\n        <label for = \"email\">Email</label>\r\n        <input type=\"email\" v-model = \"formvalues.email\">\r\n        <p class=\"err\">{{formvalues_err.email_err}}</p>\r\n        </div>\r\n\r\n        <div>\r\n        <label for = \"password\">Password</label>\r\n        <input type=\"password\" v-model = \"formvalues.password\">\r\n        <p class=\"err\">{{formvalues_err.password_err}}</p>\r\n        </div>\r\n\r\n        <button type=\"submit\" @click.prevent = \"validation\" id=\"loginbtn\" :disabled = \"disablebtn\"><font-awesome-icon v-if = \"spinner\"  class=\"fa-solid fa-spinner fa-spin\" id = \"spinner\" icon=\"fa-solid fa-spinner\"/> Login</button>\r\n\r\n    </form>\r\n\r\n    <div class = \"other_form_info\">\r\n        <router-link class = \"link\" to = \"/forgot-password\">Forgot password</router-link>\r\n        <p>Dont have an account? <router-link to = \"/register\" class = \"link\">Register</router-link></p>\r\n    </div>\r\n\r\n   </div>\r\n\r\n </div>\r\n</template>\r\n\r\n<script setup>\r\nimport SUCCESSALERTBOX from \"@/components/alert_box/success.vue\";\r\nimport ERRORALERTBOX from \"@/components/alert_box/error.vue\";\r\nimport LoadingOverlay from \"../components/modals/loading_overlay.vue\";\r\nimport { onMounted, onUnmounted, onUpdated, reactive, toRaw, ref, watch} from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport MIDDLEWARES from \"../middlewares/middlewares\"\r\nimport { useInteractiveStore } from '@/stores/interactive'\r\nimport { useAdminStore } from '@/stores/admin'\r\nconst interactive_store = useInteractiveStore()\r\nconst admin_store = useAdminStore()\r\n\r\nimport API from \"../api/index\";\r\n\r\n\r\nconst route = useRoute()\r\nconst router = useRouter()\r\n       \r\n        \r\nlet formvalues = reactive({\r\n    email: \"\",\r\n    password: \"\"\r\n})\r\n\r\nlet formvalues_err = reactive({\r\n    email_err: \"\",\r\n    password_err: \"\"\r\n})\r\n\r\n\r\n\r\n// if (admin_store.isAuthenticated) { //if user no get session redirect to login\r\n\r\n//     router.push({ name: \"dashboard\" })\r\n\r\n// }\r\n\r\n\r\n\r\n/* Hooks */\r\n\r\nonUpdated(() => {\r\n  \r\n    emailvalidated()\r\n  \r\n    passwordvalidated()\r\n\r\n})\r\n\r\n\r\nonMounted(() => {\r\n\r\n    MIDDLEWARES.allowScroll()\r\n    \r\n})\r\n\r\n\r\nonUpdated(() => {\r\n\r\n    MIDDLEWARES.allowScroll()\r\n    \r\n})\r\n\r\n/*hook */\r\n\r\n\r\n\r\nfunction emailvalidated() {\r\n\r\n    if (formvalues.email !== \"\") {\r\n\r\n        formvalues_err.email_err = \"\"\r\n\r\n        return true;\r\n\r\n    } else {\r\n    \r\n        formvalues_err.email_err = \"Please fill field\"\r\n        \r\n        return false\r\n    \r\n    }\r\n\r\n}\r\n\r\nfunction passwordvalidated() {\r\n    \r\n    if (formvalues.password !== \"\") {\r\n        \r\n        formvalues_err.password_err = \"\"\r\n        \r\n        return true\r\n    \r\n    } else {\r\n    \r\n       formvalues_err.password_err = \"Please fill field\"\r\n       \r\n       return false\r\n    \r\n    }\r\n\r\n}\r\n\r\n\r\n//resend this user verification email\r\nasync function send_confirmation_mail(email) {\r\n\r\n    try {\r\n\r\n    const response = await API.ResendConfirmationMail({ confirmationEmail: email});\r\n\r\n    router.push({ name: \"email-activation\", query: { confirmationEmail: email} })\r\n      \r\n    } catch (error) {\r\n     \r\n     console.log(error)\r\n     \r\n    }\r\n}\r\n\r\n\r\nasync function validation() {\r\n    \r\n    if (emailvalidated() && passwordvalidated()) {\r\n\r\n    interactive_store.toggle_loading_overlay(true)\r\n\r\n    try {\r\n\r\n    const response = await API.login(formvalues);\r\n\r\n    admin_store.logged_In(response.admin, response.isAuthenticated)\r\n\r\n    interactive_store.backend_message = `Welcome ${response.admin.email}`\r\n\r\n    interactive_store.display_success_alert_box()\r\n\r\n    window.location.replace('/account/dashboard')\r\n        \r\n    } catch (error) {\r\n\r\n    if (error.response?.data?.message === 'Account not verified. Please verify your email') {\r\n\r\n      await send_confirmation_mail(formvalues.email)\r\n\r\n      }  \r\n        \r\n    }\r\n\r\n  }\r\n\r\n  interactive_store.toggle_loading_overlay(false)\r\n  \r\n}\r\n\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n/* MOBILE DEVICES */\r\n@media only screen and (max-width: 765px) {\r\n  * {\r\n      font-family: 'Nuosu SIL';\r\n      margin: 0;\r\n      padding: 0;\r\n  }\r\n\r\n  div.container {\r\n      width: 90%;\r\n      border-radius: 12px;\r\n      padding: 20px 25px;\r\n      border: 1px solid gray;\r\n      margin: 50px auto;\r\n      box-sizing: border-box;\r\n  }\r\n\r\n  div.container h1{\r\n      font-size: 25px;\r\n      margin: 10px 0px 26px 0px;\r\n      color: rgb(59, 59, 59);\r\n  }\r\n\r\n  form div {\r\n      margin: 20px 0;\r\n  }\r\n\r\n  div label {\r\n      font-size: 16px;\r\n      color: rgb(30, 66, 30);\r\n      display: block;\r\n      margin: 4px 0px;\r\n  }\r\n\r\n  form input {\r\n      width: 100%;\r\n      padding: 10px;\r\n      font-size: 16px;\r\n      box-sizing: border-box;\r\n      display: block;\r\n  }\r\n\r\n  form input:hover {\r\n     outline: 0;\r\n  }\r\n\r\n  form input:focus {\r\n     outline: 0;\r\n  }\r\n\r\n  form h3 {\r\n      text-align: center;\r\n      font-size: 15px;\r\n      margin: 0;\r\n      color: rgb(16, 153, 85);\r\n      cursor: pointer;\r\n      text-decoration: underline;\r\n  }\r\n\r\n  button {\r\n      display: block;\r\n      width: 50%;\r\n      margin: auto;\r\n      color: white;\r\n      border: 0;\r\n      padding: 10px 0;\r\n      font-size: 16px;\r\n      font-weight: bold;\r\n      background-color: rgb(70, 165, 70);\r\n  }\r\n\r\n  button[type=submit]:disabled {\r\n      cursor: none;\r\n      opacity: .4\r\n }\r\n\r\n\r\n  div.other_form_info {\r\n      width: 80%;\r\n      margin: 10px auto;\r\n      text-align: center;\r\n  }\r\n\r\n   div.other_form_info .link{\r\n     color: rgb(70, 165, 70);\r\n     text-decoration: none;\r\n  }\r\n\r\n  p.err {\r\n     color: red;\r\n     font-size: 12px;\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n/* DESKTOP */\r\n@media only screen and (min-width: 600px) {\r\n  * {\r\n      font-family: 'Nuosu SIL';\r\n      margin: 0;\r\n      padding: 0;\r\n  }\r\n\r\n  div.container {\r\n      width: 500px;\r\n      border-radius: 12px;\r\n      padding: 20px 25px;\r\n      border: 1px solid gray;\r\n      margin: 50px auto;\r\n      box-sizing: border-box;\r\n  }\r\n\r\n  div.container h1{\r\n      font-size: 25px;\r\n      margin: 10px 0px 26px 0px;\r\n      color: rgb(59, 59, 59);\r\n  }\r\n\r\n  form div {\r\n      margin: 20px 0;\r\n  }\r\n\r\n  div label {\r\n      font-size: 16px;\r\n      color: rgb(30, 66, 30);\r\n      display: block;\r\n      margin: 4px 0px;\r\n  }\r\n\r\n  form input {\r\n      width: 100%;\r\n      padding: 10px;\r\n      font-size: 16px;\r\n      box-sizing: border-box;\r\n      display: block;\r\n  }\r\n\r\n  form input:hover {\r\n     outline: 0;\r\n  }\r\n\r\n  form input:focus {\r\n     outline: 0;\r\n  }\r\n\r\n  form h3 {\r\n      text-align: center;\r\n      font-size: 15px;\r\n      margin: 0;\r\n      color: rgb(16, 153, 85);\r\n      cursor: pointer;\r\n      text-decoration: underline;\r\n  }\r\n\r\n  button {\r\n      display: block;\r\n      width: 50%;\r\n      margin: auto;\r\n      color: white;\r\n      border: 0;\r\n      padding: 10px 0;\r\n      font-size: 16px;\r\n      font-weight: bold;\r\n      background-color: rgb(70, 165, 70);\r\n  }\r\n\r\n  button[type=submit]:disabled {\r\n      cursor: none;\r\n      opacity: .4\r\n   }\r\n\r\n\r\n  div.other_form_info {\r\n      width: 80%;\r\n      margin: 10px auto;\r\n      text-align: center;\r\n  }\r\n\r\n   div.other_form_info .link{\r\n     color: rgb(70, 165, 70);\r\n     text-decoration: none;\r\n  }\r\n\r\n  p.err {\r\n     color: red;\r\n     font-size: 12px;\r\n  }\r\n}\r\n\r\n.demo_account {\r\n      margin: 10px 0;\r\n}\r\n\r\n.demo_account h2{\r\n      font-size: 16px;\r\n}\r\n\r\n.demo_account p{\r\n      margin: 10px 0;\r\n}\r\n</style>","import script from \"./Login.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Login.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=22b5b0cc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-22b5b0cc\"]])\n\nexport default __exports__"],"names":["interactive_store","useInteractiveStore","__exports__","admin_store","useAdminStore","router","useRoute","useRouter","formvalues","reactive","email","password","formvalues_err","email_err","password_err","emailvalidated","passwordvalidated","async","send_confirmation_mail","API","ResendConfirmationMail","confirmationEmail","push","name","query","error","console","log","validation","toggle_loading_overlay","response","login","logged_In","admin","isAuthenticated","backend_message","display_success_alert_box","window","location","replace","data","message","onUpdated","onMounted","MIDDLEWARES","allowScroll"],"sourceRoot":""}