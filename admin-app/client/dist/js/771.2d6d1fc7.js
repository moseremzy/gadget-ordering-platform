"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[771],{3306:function(e,a,i){i.d(a,{A:function(){return b}});var r=i(6768),t=i(4232),o=i(144),n=i(8238),l=i(5130);const s=["maxlength","disabled","placeholder"];var c={__name:"SearchBox",props:{searchbox_placeholder:String,page_name:String},setup(e){const a=e,i=(0,n.j)(),{searchbox_placeholder:t,page_name:c}=(0,o.QW)(a),d=(0,r.EW)((()=>{switch(c.value){case"dashboard":return!0;case"order":return!1;case"edit-item":return!0;case"add-item":return!0}}));function u(){i.clearQuery(),i.query=""}return(e,a)=>{const n=(0,r.g2)("font-awesome-icon");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(n,{class:"fa-solid fa-search",id:"search_icon",icon:"fa-solid fa-search"}),(0,r.bo)((0,r.Lk)("input",{type:"text",maxlength:"orders"==(0,o.R1)(c)?"11":"70",disabled:d.value,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,o.R1)(i).query=e),placeholder:(0,o.R1)(t),name:"search_box",id:"search_box"},null,8,s),[[l.Jo,(0,o.R1)(i).query]]),(0,r.bF)(n,{class:"fa-solid fa-xmark",onClick:u,id:"xmark",icon:"fa-solid fa-xmark"})])}}},d=i(1241);const u=(0,d.A)(c,[["__scopeId","data-v-21908561"]]);var f=u;const p={class:"header"},m={class:"hamburger_account"};var _={__name:"Header",props:{searchbox_placeholder:String,page_name:String},setup(e){const a=(0,n.j)(),i=e,{searchbox_placeholder:l,page_name:s}=(0,o.QW)(i);return(e,i)=>{const n=(0,r.g2)("font-awesome-icon");return(0,r.uX)(),(0,r.CE)("header",p,[(0,r.Lk)("div",m,[(0,r.bF)(n,{class:"fa-solid fa-navicon",style:(0,t.Tr)((0,o.R1)(a).open_hamburger_css),id:"open_hamburger",onClick:(0,o.R1)(a).Open_Sidebar,icon:"fa-solid fa-navicon"},null,8,["style","onClick"]),(0,r.bF)(n,{class:"fa-solid fa-xmark",style:(0,t.Tr)((0,o.R1)(a).close_hamburger_css),id:"close_hamburger",onClick:(0,o.R1)(a).Close_Sidebar,icon:"fa-solid fa-xmark"},null,8,["style","onClick"]),(0,r.bF)(f,{page_name:(0,o.R1)(s),searchbox_placeholder:(0,o.R1)(l)},null,8,["page_name","searchbox_placeholder"])])])}}};const g=(0,d.A)(_,[["__scopeId","data-v-795ef8f4"]]);var b=g},5149:function(e,a,i){i.d(a,{A:function(){return m}});i(8992),i(4520);var r=i(6768),t=i(4232),o=i(144),n=i(5130),l=i(8238),s=i(4549),c=i(4621),d=i(6807);const u={key:0,style:{"background-color":"red","margin-left":"5px",padding:"3px 7px","font-size":"13px","border-radius":"100%"}};var f={__name:"SideBar",setup(e){const a=(0,l.j)(),i=(0,s.g)(),f=(0,c.e)();let p=(0,r.EW)((()=>f.orders.filter((e=>"Payment Pending"!==e.status&&"Payment Failed"!==e.status&&"Payment Abandoned"!==e.status&&"Payment Reversed"!==e.status&&"Cancelled"!==e.status&&"Delivered"!==e.status)).length));async function m(){const e=await d.A.logout();"success"===e.message?(i.logged_Out(),window.location.assign("/login")):window.location.assign("/")}return(e,l)=>{const s=(0,r.g2)("font-awesome-icon"),c=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",{class:"side_bar",style:(0,t.Tr)((0,o.R1)(a).side_bar_css)},[(0,r.Lk)("h3",null,[(0,r.bF)(s,{class:"fa-solid fa-user-tie",icon:"fa-solid fa-user-tie",id:"user_tie"}),l[0]||(l[0]=(0,r.eW)(" TECH BY CAS "))]),l[8]||(l[8]=(0,r.Lk)("hr",null,null,-1)),(0,r.Lk)("ul",null,[(0,r.Lk)("li",null,[(0,r.bF)(c,{"exact-active-class":"active-link",to:"/account/dashboard"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{class:"fa-solid fa-user-tie icons",icon:"fa-solid fa-gauge"}),l[1]||(l[1]=(0,r.eW)(" Dashboard"))])),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(c,{"exact-active-class":"active-link",to:"/account/orders"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{class:"fa-solid fa-cart-shopping icons",icon:"fa-solid fa-cart-shopping"}),l[2]||(l[2]=(0,r.eW)(" Orders ")),(0,o.R1)(p)>0?((0,r.uX)(),(0,r.CE)("strong",u,(0,t.v_)((0,o.R1)(p)),1)):(0,r.Q3)("",!0)])),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(c,{"exact-active-class":"active-link",to:"/account/items"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{class:"fa-solid fa-mobile-phone icons",icon:"fa-solid fa-mobile-phone"}),l[3]||(l[3]=(0,r.eW)(" Items"))])),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(c,{"exact-active-class":"active-link",to:"/account/customers"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{class:"fa-solid fa-user icons",icon:"fa-solid fa-user"}),l[4]||(l[4]=(0,r.eW)(" Customers"))])),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(c,{"exact-active-class":"active-link",to:"/account/analytics"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{class:"fa-solid fa-chart-line icons",icon:"fa-solid fa-chart-line"}),l[5]||(l[5]=(0,r.eW)(" Analytics"))])),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(c,{"exact-active-class":"active-link",to:"/account/settings"},{default:(0,r.k6)((()=>[(0,r.bF)(s,{class:"fa-solid fa-user-cog icons",icon:"fa-solid fa-user-cog"}),l[6]||(l[6]=(0,r.eW)("Account Settings"))])),_:1})]),(0,o.R1)(i).isAuthenticated?((0,r.uX)(),(0,r.CE)("li",{key:0,onClick:(0,n.D$)(m,["prevent"])},[(0,r.bF)(c,{to:"#",class:"link",style:{color:"red"}},{default:(0,r.k6)((()=>[(0,r.bF)(s,{class:"fa-solid fa-sign-out icons",style:{color:"red"},icon:"fa-solid fa-sign-out"}),l[7]||(l[7]=(0,r.eW)("Log Out"))])),_:1})])):(0,r.Q3)("",!0)])],4)}}};const p=f;var m=p},3604:function(e,a,i){i.d(a,{A:function(){return d}});var r=i(6768),t=i(144),o=i(8238);const n={key:0,class:"overlay"};var l={__name:"loading_overlay",setup(e){const a=(0,o.j)();return(e,i)=>{const o=(0,r.g2)("font-awesome-icon");return(0,t.R1)(a).display_loading_overlay?((0,r.uX)(),(0,r.CE)("div",n,[(0,r.bF)(o,{class:"fa-solid fa-spinner",id:"spinner",icon:"fa-solid fa-spinner"})])):(0,r.Q3)("",!0)}}},s=i(1241);const c=(0,s.A)(l,[["__scopeId","data-v-758fe2b0"]]);var d=c},2771:function(e,a,i){i.r(a),i.d(a,{default:function(){return Q}});i(8992),i(2577);var r=i(6768),t=i(4232),o=i(144),n=i(5130),l=i(8238),s=i(3216),c=i(868),d=i(3306),u=i(3604),f=i(5149),p=(i(2090),i(4542));const m={class:"add-item-form-container"},_={class:"form-title"},g={class:"add-item-form grid-form"},b={class:"form-group grid-full"},k={class:"err"},v={class:"form-group"},y={class:"err"},h={class:"form-group"},L=["value"],R={class:"err"},x={class:"form-group"},C={class:"err"},F={class:"form-group"},I={class:"err"},q={class:"form-group grid-full"},A={class:"err"},E={class:"form-group grid-full"},S={class:"err"},w={class:"form-group grid-full"},W={class:"err"},P={class:"form-group grid-full"};var U={__name:"Add-Item",setup(e){const a=(0,l.j)(),i=(0,s.K)(),U=(0,c.d)();let V=(0,o.KR)(null),X=(0,o.KR)(null),Q=(0,o.KR)(null),T=(0,o.Kh)({name:"",price:"",description:"",category_id:"",condition:"",quantity:1}),j=(0,o.Kh)({name_err:"",price_err:"",description_err:"",category_err:"",condition_err:"",quantity_err:"",image_err:"",video_err:""});const K=(0,r.EW)((()=>U.categories));function O(){let e=/^[A-Za-z0-9\s]+$/;if(""===T.name)j.name_err="Please fill the field";else{if(e.test(T.name))return j.name_err="",!0;j.name_err="Item name can only contain letters and spaces"}}function B(){if(""!==T.price)return j.price_err="",!0;j.price_err="Please fill field"}function D(){if(""!==T.category_id&&"Select Category"!=T.category_id)return j.category_err="",!0;j.category_err="Please fill field"}function J(){if(""!==T.condition&&"Select Condition"!=T.condition)return j.condition_err="",!0;j.condition_err="Please fill field"}function $(){if(""===T.quantity)j.quantity_err="Please fill field";else{if(0!=T.quantity)return j.quantity_err="",!0;j.quantity_err="Stock Quantity Cannot be less than 1"}}function z(){if(T.description.length>=400)T.description=T.description.slice(0,400),V.value.attributes[2].nodeValue="color: red;";else{if(""!=T.description)return V.value.attributes[2].nodeValue="color: gray;",j.description_err="",!0;j.description_err="Please fill field"}}function N(){return i.products.find((e=>e.name===T.name.toLowerCase()))}async function H(e){if(O()&&B()&&D()&&z()&&J()&&$()){if(N())return a.backend_message="Item already exists",void a.display_error_alert_box();const e=X.value;let t=e.files[0];if(!t)return a.backend_message="Please upload an image",void a.display_error_alert_box();if("image/png"!=t.type&&"image/jpeg"!=t.type&&"image/jpg"!=t.type)return a.backend_message="Invalid file",void a.display_error_alert_box();if(t.size>5242880)return a.backend_message="Image too large",void a.display_error_alert_box();const o=Q.value;let n=null;if(o.files[0]){if(n=o.files[0],!n.type.startsWith("video/"))return a.backend_message="Invalid video file",void a.display_error_alert_box();if(n.size>31457280)return a.backend_message="Video too large (max 30MB)",void a.display_error_alert_box()}const l=new FormData;l.append("name",T.name),l.append("price",T.price),l.append("description",T.description),l.append("product_condition",T.condition),l.append("stock_quantity",T.quantity),l.append("category_id",T.category_id),l.append("image",t,t.name),n&&l.append("video",n,n.name),a.toggle_loading_overlay(!0);try{await p.A.upload_items(l);await i.fetch_products(),G(),a.backend_message="Item uploaded successfully",a.display_success_alert_box()}catch(r){console.log(r)}a.toggle_loading_overlay(!1)}}function G(){T.name="",T.price="",T.description="",T.condition="",T.category_id="",X.value&&(X.value.value=""),Q.value&&(Q.value.value="")}return(0,r.$u)((()=>{O(),B(),z(),D(),J(),$()})),(e,i)=>{const l=(0,r.g2)("SUCCESSALERTBOX"),s=(0,r.g2)("ERRORALERTBOX");return(0,r.uX)(),(0,r.CE)("div",{class:"container",style:(0,t.Tr)((0,o.R1)(a).container_css)},[(0,r.bF)(u.A),(0,r.bF)(l,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,t.v_)((0,o.R1)(a).backend_message),1)])),_:1}),(0,r.bF)(s,null,{default:(0,r.k6)((()=>[(0,r.eW)((0,t.v_)((0,o.R1)(a).backend_message),1)])),_:1}),(0,r.bF)(f.A),(0,r.Lk)("div",{class:"sub_container",style:(0,t.Tr)((0,o.R1)(a).sub_container_css)},[(0,r.bF)(d.A,{page_name:"add-item",searchbox_placeholder:"Enter Item Name To Search"}),i[16]||(i[16]=(0,r.Lk)("h1",null,"Add Item",-1)),(0,r.Lk)("div",m,[(0,r.Lk)("h2",_,[(0,r.RG)(e.$slots,"form-title")]),(0,r.Lk)("form",g,[(0,r.Lk)("div",b,[i[6]||(i[6]=(0,r.Lk)("label",{for:"item-name",class:"form-label"},"Item Name",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"item-name","onUpdate:modelValue":i[0]||(i[0]=e=>(0,o.R1)(T).name=e),class:"form-input",placeholder:"Enter item name",required:""},null,512),[[n.Jo,(0,o.R1)(T).name]]),(0,r.Lk)("p",k,(0,t.v_)((0,o.R1)(j).name_err),1)]),(0,r.Lk)("div",v,[i[7]||(i[7]=(0,r.Lk)("label",{for:"item-price",class:"form-label"},"Item Price",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":i[1]||(i[1]=e=>(0,o.R1)(T).price=e),id:"item-price",class:"form-input",placeholder:"Enter item price",required:""},null,512),[[n.Jo,(0,o.R1)(T).price]]),(0,r.Lk)("p",y,(0,t.v_)((0,o.R1)(j).price_err),1)]),(0,r.Lk)("div",h,[i[9]||(i[9]=(0,r.Lk)("label",{for:"item-category",class:"form-label"},"Item Category",-1)),(0,r.bo)((0,r.Lk)("select",{id:"item-category","onUpdate:modelValue":i[2]||(i[2]=e=>(0,o.R1)(T).category_id=e),class:"form-input",required:""},[i[8]||(i[8]=(0,r.Lk)("option",{value:""},"Select Category",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(K.value,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.category_id,value:e.category_id},(0,t.v_)(e.name),9,L)))),128))],512),[[n.u1,(0,o.R1)(T).category_id]]),(0,r.Lk)("p",R,(0,t.v_)((0,o.R1)(j).category_err),1)]),(0,r.Lk)("div",x,[i[11]||(i[11]=(0,r.Lk)("label",{for:"item-condition",class:"form-label"},"Item Condition",-1)),(0,r.bo)((0,r.Lk)("select",{id:"item-condition","onUpdate:modelValue":i[3]||(i[3]=e=>(0,o.R1)(T).condition=e),class:"form-input",required:""},i[10]||(i[10]=[(0,r.Lk)("option",{value:""},"Select Condition",-1),(0,r.Lk)("option",{value:"new"},"New",-1),(0,r.Lk)("option",{value:"uk_used"},"Uk Used",-1),(0,r.Lk)("option",{value:"refurbished"},"Refurbished",-1)]),512),[[n.u1,(0,o.R1)(T).condition]]),(0,r.Lk)("p",C,(0,t.v_)((0,o.R1)(j).condition_err),1)]),(0,r.Lk)("div",F,[i[12]||(i[12]=(0,r.Lk)("label",{for:"item-quantity",class:"form-label"},"Item Quantity",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number",id:"item-quantity",min:"1",placeholder:"Stock Quantity","onUpdate:modelValue":i[4]||(i[4]=e=>(0,o.R1)(T).quantity=e),class:"form-input",required:""},null,512),[[n.Jo,(0,o.R1)(T).quantity]]),(0,r.Lk)("p",I,(0,t.v_)((0,o.R1)(j).quantity_err),1)]),(0,r.Lk)("div",q,[i[13]||(i[13]=(0,r.Lk)("label",{for:"item-description",class:"form-label"},"Item Description",-1)),(0,r.bo)((0,r.Lk)("textarea",{id:"item-description","onUpdate:modelValue":i[5]||(i[5]=e=>(0,o.R1)(T).description=e),class:"form-input",placeholder:"Enter item description",rows:"4",required:""},null,512),[[n.Jo,(0,o.R1)(T).description]]),(0,r.Lk)("p",A,(0,t.v_)((0,o.R1)(j).description_err),1),(0,r.Lk)("p",{class:"err",style:{color:"gray"},ref_key:"description_counter",ref:V},(0,t.v_)((0,o.R1)(T).description.length)+"/400 characters",513)]),(0,r.Lk)("div",E,[i[14]||(i[14]=(0,r.Lk)("label",{for:"item-image",class:"form-label"},"Upload Item Image",-1)),(0,r.Lk)("input",{type:"file",id:"item-image",class:"form-input",ref_key:"itemImage",ref:X,accept:"image/*",required:""},null,512),(0,r.Lk)("p",S,(0,t.v_)((0,o.R1)(j).image_err),1)]),(0,r.Lk)("div",w,[i[15]||(i[15]=(0,r.Lk)("label",{for:"item-video",class:"form-label"},"Upload Item Video (optional)",-1)),(0,r.Lk)("input",{type:"file",id:"item-video",class:"form-input",ref_key:"itemVideo",ref:Q,accept:"video/*"},null,512),(0,r.Lk)("p",W,(0,t.v_)((0,o.R1)(j).video_err),1)]),(0,r.Lk)("div",P,[(0,r.Lk)("button",{type:"submit",onClick:(0,n.D$)(H,["prevent"]),class:"submit-button"},"Submit")])])])],4)],4)}}},V=i(1241);const X=(0,V.A)(U,[["__scopeId","data-v-b220df0e"]]);var Q=X}}]);
//# sourceMappingURL=771.2d6d1fc7.js.map