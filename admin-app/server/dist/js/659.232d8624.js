"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[659],{3306:function(e,a,t){t.d(a,{A:function(){return _}});var l=t(6768),s=t(4232),o=t(144),n=t(8238),r=t(5130);const i=["maxlength","disabled","placeholder"];var u={__name:"SearchBox",props:{searchbox_placeholder:String,page_name:String},setup(e){const a=e,t=(0,n.j)(),{searchbox_placeholder:s,page_name:u}=(0,o.QW)(a),d=(0,l.EW)((()=>{switch(u.value){case"dashboard":return!0;case"order":return!1;case"edit-item":return!0;case"add-item":return!0}}));function c(){t.clearQuery(),t.query=""}return(e,a)=>{const n=(0,l.g2)("font-awesome-icon");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(n,{class:"fa-solid fa-search",id:"search_icon",icon:"fa-solid fa-search"}),(0,l.bo)((0,l.Lk)("input",{type:"text",maxlength:"orders"==(0,o.R1)(u)?"11":"70",disabled:d.value,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,o.R1)(t).query=e),placeholder:(0,o.R1)(s),name:"search_box",id:"search_box"},null,8,i),[[r.Jo,(0,o.R1)(t).query]]),(0,l.bF)(n,{class:"fa-solid fa-xmark",onClick:c,id:"xmark",icon:"fa-solid fa-xmark"})])}}},d=t(1241);const c=(0,d.A)(u,[["__scopeId","data-v-21908561"]]);var f=c;const v={class:"header"},p={class:"hamburger_account"};var g={__name:"Header",props:{searchbox_placeholder:String,page_name:String},setup(e){const a=(0,n.j)(),t=e,{searchbox_placeholder:r,page_name:i}=(0,o.QW)(t);return(e,t)=>{const n=(0,l.g2)("font-awesome-icon");return(0,l.uX)(),(0,l.CE)("header",v,[(0,l.Lk)("div",p,[(0,l.bF)(n,{class:"fa-solid fa-navicon",style:(0,s.Tr)((0,o.R1)(a).open_hamburger_css),id:"open_hamburger",onClick:(0,o.R1)(a).Open_Sidebar,icon:"fa-solid fa-navicon"},null,8,["style","onClick"]),(0,l.bF)(n,{class:"fa-solid fa-xmark",style:(0,s.Tr)((0,o.R1)(a).close_hamburger_css),id:"close_hamburger",onClick:(0,o.R1)(a).Close_Sidebar,icon:"fa-solid fa-xmark"},null,8,["style","onClick"]),(0,l.bF)(f,{page_name:(0,o.R1)(i),searchbox_placeholder:(0,o.R1)(r)},null,8,["page_name","searchbox_placeholder"])])])}}};const b=(0,d.A)(g,[["__scopeId","data-v-795ef8f4"]]);var _=b},5050:function(e,a,t){t.d(a,{A:function(){return i}});var l=t(6768);function s(e,a){const t=(0,l.g2)("font-awesome-icon");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(t,{class:"fa-solid fa-box-open",id:"box",icon:"fa-solid fa-box-open"}),(0,l.Lk)("h1",null,[(0,l.RG)(e.$slots,"default",{},void 0,!0)])])}var o=t(1241);const n={},r=(0,o.A)(n,[["render",s],["__scopeId","data-v-2841d54c"]]);var i=r},3321:function(e,a,t){t.d(a,{A:function(){return c}});var l=t(6768),s=t(4232);const o={class:"pagination"},n=["disabled"],r=["disabled"];var i={__name:"Pagination",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0}},emits:["update:currentPage"],setup(e,{emit:a}){const t=e,i=a,u=()=>{t.currentPage<t.totalPages&&i("update:currentPage",t.currentPage+1)},d=()=>{t.currentPage>1&&i("update:currentPage",t.currentPage-1)};return(a,t)=>((0,l.uX)(),(0,l.CE)("div",o,[(0,l.Lk)("button",{disabled:1===e.currentPage,onClick:d,class:"pagination-button"},"Previous",8,n),(0,l.Lk)("span",null,"Page "+(0,s.v_)(e.currentPage)+" of "+(0,s.v_)(e.totalPages),1),(0,l.Lk)("button",{disabled:e.currentPage===e.totalPages,onClick:u,class:"pagination-button"},"Next",8,r)]))}},u=t(1241);const d=(0,u.A)(i,[["__scopeId","data-v-7fef024a"]]);var c=d},5149:function(e,a,t){t.d(a,{A:function(){return p}});t(8992),t(4520);var l=t(6768),s=t(4232),o=t(144),n=t(5130),r=t(8238),i=t(4549),u=t(4621),d=t(6807);const c={key:0,style:{"background-color":"red","margin-left":"5px",padding:"3px 7px","font-size":"13px","border-radius":"100%"}};var f={__name:"SideBar",setup(e){const a=(0,r.j)(),t=(0,i.g)(),f=(0,u.e)();let v=(0,l.EW)((()=>f.orders.filter((e=>"Payment Pending"!==e.status&&"Payment Failed"!==e.status&&"Payment Abandoned"!==e.status&&"Payment Reversed"!==e.status&&"Cancelled"!==e.status&&"Delivered"!==e.status)).length));async function p(){const e=await d.A.logout();"success"===e.message?(t.logged_Out(),window.location.assign("/login")):window.location.assign("/")}return(e,r)=>{const i=(0,l.g2)("font-awesome-icon"),u=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",{class:"side_bar",style:(0,s.Tr)((0,o.R1)(a).side_bar_css)},[(0,l.Lk)("h3",null,[(0,l.bF)(i,{class:"fa-solid fa-user-tie",icon:"fa-solid fa-user-tie",id:"user_tie"}),r[0]||(r[0]=(0,l.eW)(" TECH BY CAS "))]),r[8]||(r[8]=(0,l.Lk)("hr",null,null,-1)),(0,l.Lk)("ul",null,[(0,l.Lk)("li",null,[(0,l.bF)(u,{"exact-active-class":"active-link",to:"/account/dashboard"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{class:"fa-solid fa-user-tie icons",icon:"fa-solid fa-gauge"}),r[1]||(r[1]=(0,l.eW)(" Dashboard"))])),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(u,{"exact-active-class":"active-link",to:"/account/orders"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{class:"fa-solid fa-cart-shopping icons",icon:"fa-solid fa-cart-shopping"}),r[2]||(r[2]=(0,l.eW)(" Orders ")),(0,o.R1)(v)>0?((0,l.uX)(),(0,l.CE)("strong",c,(0,s.v_)((0,o.R1)(v)),1)):(0,l.Q3)("",!0)])),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(u,{"exact-active-class":"active-link",to:"/account/items"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{class:"fa-solid fa-mobile-phone icons",icon:"fa-solid fa-mobile-phone"}),r[3]||(r[3]=(0,l.eW)(" Items"))])),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(u,{"exact-active-class":"active-link",to:"/account/customers"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{class:"fa-solid fa-user icons",icon:"fa-solid fa-user"}),r[4]||(r[4]=(0,l.eW)(" Customers"))])),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(u,{"exact-active-class":"active-link",to:"/account/analytics"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{class:"fa-solid fa-chart-line icons",icon:"fa-solid fa-chart-line"}),r[5]||(r[5]=(0,l.eW)(" Analytics"))])),_:1})]),(0,l.Lk)("li",null,[(0,l.bF)(u,{"exact-active-class":"active-link",to:"/account/settings"},{default:(0,l.k6)((()=>[(0,l.bF)(i,{class:"fa-solid fa-user-cog icons",icon:"fa-solid fa-user-cog"}),r[6]||(r[6]=(0,l.eW)("Account Settings"))])),_:1})]),(0,o.R1)(t).isAuthenticated?((0,l.uX)(),(0,l.CE)("li",{key:0,onClick:(0,n.D$)(p,["prevent"])},[(0,l.bF)(u,{to:"#",class:"link",style:{color:"red"}},{default:(0,l.k6)((()=>[(0,l.bF)(i,{class:"fa-solid fa-sign-out icons",style:{color:"red"},icon:"fa-solid fa-sign-out"}),r[7]||(r[7]=(0,l.eW)("Log Out"))])),_:1})])):(0,l.Q3)("",!0)])],4)}}};const v=f;var p=v},6659:function(e,a,t){t.r(a),t.d(a,{default:function(){return A}});t(4114),t(8992),t(4520);var l=t(6768),s=t(4232),o=t(144),n=t(5130),r=t(3306),i=t(5050),u=t(5149),d=t(3321),c=t(8238),f=t(4621),v=t(4549),p=t(1387),g=t(2090);const b={class:"filters-container"},_={style:{display:"flex","flex-direction":"column"}},k={class:"status-filter-container"},m={class:"status-filter-container"},y={class:"date-range-filter-container"},h={class:"customer-table-container"},L={class:"table-wrapper"},x={key:0,style:{"word-wrap":"break-word",display:"block","margin-bottom":"10px"}},F={key:1,class:"customer-table"},R={style:{"margin-top":"10px","font-size":"15px"}},P=20;var C={__name:"Orders",setup(e){const a=(0,c.j)(),t=(0,f.e)(),C=(0,v.g)(),W=(0,p.lq)(),w=(0,p.rd)(),A=(0,o.KR)(""),E=(0,o.KR)(""),S=(0,o.KR)(""),O=(0,o.KR)(""),X=(0,o.KR)(1);(0,l.wB)((()=>C.isAuthenticated),(e=>{e||(a.backend_message="session expired",a.display_success_alert_box(!0),setTimeout((()=>{w.push({path:"/login"})}),1e3))})),(0,l.wB)([()=>a.query,()=>A.value,()=>E.value,()=>S.value,()=>O.value],(()=>{X.value=1}));const q=(0,l.EW)((()=>W.query.user_id?t.orders.filter((e=>e.user_id==W.query.user_id)):t.orders)),T=(0,l.EW)((()=>q.value.filter((e=>{const t=new Date(e.created_at),l=S.value?new Date(`${S.value}T00:00:00`):null,s=O.value?new Date(`${O.value}T23:59:59`):null,o=!A.value||e.order_status===A.value,n=!E.value||e.payment_status===E.value,r=!l||t>=l,i=!s||t<=s,u=!a.query||e.order_id==a.query;return o&&n&&r&&i&&u})))),D=(0,l.EW)((()=>{const e=(X.value-1)*P,a=e+P;return T.value.slice(e,a)})),I=(0,l.EW)((()=>Math.ceil(T.value.length/P))),N=e=>"pending"===e?"status-pending":"confirmed"===e?"status-confirmed":"out for delivery"===e?"status-out-for-delivery":"delivered"===e?"status-delivered":"cancelled"===e?"status-cancelled":"returned"===e?"status-returned":"";return(0,l.sV)((()=>{a.clearQuery()})),(e,t)=>{const c=(0,l.g2)("OVERLAY"),f=(0,l.g2)("SUCCESSALERTBOX"),v=(0,l.g2)("ERRORALERTBOX"),p=(0,l.g2)("font-awesome-icon"),P=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",{class:"container",style:(0,s.Tr)((0,o.R1)(a).container_css)},[(0,l.bF)(c),(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)((0,o.R1)(a).backend_message),1)])),_:1}),(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)((0,o.R1)(a).backend_message),1)])),_:1}),(0,l.bF)(u.A),(0,l.Lk)("div",{class:"sub_container",style:(0,s.Tr)((0,o.R1)(a).sub_container_css)},[(0,l.bF)(r.A,{page_name:"orders",searchbox_placeholder:"Enter Order ID To Search"}),(0,l.Lk)("h1",null,(0,s.v_)((0,o.R1)(W).query.customer_name)+" Orders",1),(0,l.Lk)("div",b,[(0,l.Lk)("div",_,[(0,l.Lk)("div",k,[t[6]||(t[6]=(0,l.Lk)("label",{for:"status-filter",class:"status-filter-label"},"Filter by Order Status",-1)),(0,l.bo)((0,l.Lk)("select",{id:"status-filter","onUpdate:modelValue":t[0]||(t[0]=e=>A.value=e),class:"status-filter-select"},t[5]||(t[5]=[(0,l.Fv)('<option value="" data-v-64d1f592>All</option><option value="pending" data-v-64d1f592>Pending</option><option value="confirmed" data-v-64d1f592>Confirmed</option><option value="out for delivery" data-v-64d1f592>Out for Delivery</option><option value="delivered" data-v-64d1f592>Delivered</option><option value="cancelled" data-v-64d1f592>Cancelled</option><option value="returned" data-v-64d1f592>Returned</option>',7)]),512),[[n.u1,A.value]])]),(0,l.Lk)("div",m,[t[8]||(t[8]=(0,l.Lk)("label",{for:"status-filter",class:"status-filter-label"},"Filter by Payment Status",-1)),(0,l.bo)((0,l.Lk)("select",{id:"status-filter","onUpdate:modelValue":t[1]||(t[1]=e=>E.value=e),class:"status-filter-select"},t[7]||(t[7]=[(0,l.Fv)('<option value="" data-v-64d1f592>All</option><option value="pending" data-v-64d1f592>Pending</option><option value="success" data-v-64d1f592>Success</option><option value="failed" data-v-64d1f592>Failed</option><option value="abandoned" data-v-64d1f592>Abandoned</option><option value="reversed" data-v-64d1f592>Reversed</option><option value="refunded" data-v-64d1f592>Refunded</option>',7)]),512),[[n.u1,E.value]])])]),(0,l.Lk)("div",y,[t[9]||(t[9]=(0,l.Lk)("label",{for:"start-date-filter",class:"date-filter-label"},"From",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",id:"start-date-filter","onUpdate:modelValue":t[2]||(t[2]=e=>S.value=e),class:"date-filter-input"},null,512),[[n.Jo,S.value]]),t[10]||(t[10]=(0,l.Lk)("label",{for:"end-date-filter",class:"date-filter-label"},"To",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",id:"end-date-filter","onUpdate:modelValue":t[3]||(t[3]=e=>O.value=e),class:"date-filter-input"},null,512),[[n.Jo,O.value]])])]),(0,l.Lk)("div",h,[(0,l.Lk)("div",L,[(0,o.R1)(a).query?((0,l.uX)(),(0,l.CE)("b",x,"Result for - #"+(0,s.v_)((0,o.R1)(a).query),1)):(0,l.Q3)("",!0),D.value.length>0?((0,l.uX)(),(0,l.CE)("table",F,[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,[t[11]||(t[11]=(0,l.eW)("Order ID ")),(0,l.bF)(p,{class:"fa-solid fa-sort",style:{color:"gray","margin-left":"3px"},icon:"fa-solid fa-sort"})]),(0,l.Lk)("th",null,[t[12]||(t[12]=(0,l.eW)("Items ")),(0,l.bF)(p,{class:"fa-solid fa-sort",style:{color:"gray","margin-left":"3px"},icon:"fa-solid fa-sort"})]),(0,l.Lk)("th",null,[t[13]||(t[13]=(0,l.eW)("Order Status ")),(0,l.bF)(p,{class:"fa-solid fa-sort",style:{color:"gray","margin-left":"3px"},icon:"fa-solid fa-sort"})]),(0,l.Lk)("th",null,[t[14]||(t[14]=(0,l.eW)("Payment Method ")),(0,l.bF)(p,{class:"fa-solid fa-sort",style:{color:"gray","margin-left":"3px"},icon:"fa-solid fa-sort"})]),(0,l.Lk)("th",null,[t[15]||(t[15]=(0,l.eW)("Payment Status ")),(0,l.bF)(p,{class:"fa-solid fa-sort",style:{color:"gray","margin-left":"3px"},icon:"fa-solid fa-sort"})]),(0,l.Lk)("th",null,[t[16]||(t[16]=(0,l.eW)("Delivery Fee")),(0,l.bF)(p,{class:"fa-solid fa-sort",style:{color:"gray","margin-left":"3px"},icon:"fa-solid fa-sort"})]),(0,l.Lk)("th",null,[t[17]||(t[17]=(0,l.eW)("Total")),(0,l.bF)(p,{class:"fa-solid fa-sort",style:{color:"gray","margin-left":"3px"},icon:"fa-solid fa-sort"})]),(0,l.Lk)("th",null,[t[18]||(t[18]=(0,l.eW)("Order Date ")),(0,l.bF)(p,{class:"fa-solid fa-sort",style:{color:"gray","margin-left":"3px"},icon:"fa-solid fa-sort"})])])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(D.value,(e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.order_id},[(0,l.Lk)("td",null,"#"+(0,s.v_)(e.order_id),1),(0,l.Lk)("td",null,(0,s.v_)(e.total_items),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,s.C4)(N(e.order_status))},(0,s.v_)(e.order_status),3)]),(0,l.Lk)("td",null,(0,s.v_)(e.payment_method),1),(0,l.Lk)("td",null,(0,s.v_)(e.payment_status),1),(0,l.Lk)("td",null,(0,s.v_)(new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(e.delivery_fee)),1),(0,l.Lk)("td",null,(0,s.v_)(new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(e.total_amount)),1),(0,l.Lk)("td",null,(0,s.v_)((0,o.R1)(g.A).formatted_date(e.created_at)),1),(0,l.Lk)("td",null,[(0,l.bF)(P,{to:"/account/view-order/"+e.order_id,class:"order-link"},{default:(0,l.k6)((()=>t[19]||(t[19]=[(0,l.eW)("View")]))),_:2},1032,["to"])])])))),128))])])):((0,l.uX)(),(0,l.Wv)(i.A,{key:2},{default:(0,l.k6)((()=>t[20]||(t[20]=[(0,l.eW)("Record Not Found")]))),_:1}))]),(0,l.Lk)("p",R,"Showing "+(0,s.v_)(D.value.length)+" of "+(0,s.v_)(T.value.length),1),D.value.length>0?((0,l.uX)(),(0,l.Wv)(d.A,{key:0,currentPage:X.value,totalPages:I.value,"onUpdate:currentPage":t[4]||(t[4]=e=>X.value=e)},null,8,["currentPage","totalPages"])):(0,l.Q3)("",!0)])],4)],4)}}},W=t(1241);const w=(0,W.A)(C,[["__scopeId","data-v-64d1f592"]]);var A=w}}]);
//# sourceMappingURL=659.232d8624.js.map