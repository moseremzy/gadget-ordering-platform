"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[692],{3604:function(e,a,n){n.d(a,{A:function(){return c}});var l=n(6768),o=n(144),s=n(8238);const i={key:0,class:"overlay"};var r={__name:"loading_overlay",setup(e){const a=(0,s.j)();return(e,n)=>{const s=(0,l.g2)("font-awesome-icon");return(0,o.R1)(a).display_loading_overlay?((0,l.uX)(),(0,l.CE)("div",i,[(0,l.bF)(s,{class:"fa-solid fa-spinner",id:"spinner",icon:"fa-solid fa-spinner"})])):(0,l.Q3)("",!0)}}},t=n(1241);const d=(0,t.A)(r,[["__scopeId","data-v-758fe2b0"]]);var c=d},692:function(e,a,n){n.r(a),n.d(a,{default:function(){return h}});n(4114);var l=n(6768),o=n(4232),s=n(144),i=n(5130),r=n(3259),t=n(5933),d=n(3604),c=n(1387),u=n(2090),f=n(8238),p=n(4549),_=n(4542);const m={class:"container"},k={class:"err"},v={class:"err"},g=["disabled"],b={class:"other_form_info"};var w={__name:"Login",setup(e){const a=(0,f.j)(),n=(0,p.g)(),w=((0,c.lq)(),(0,c.rd)());let y=(0,s.Kh)({email:"",password:""}),L=(0,s.Kh)({email_err:"",password_err:""});function h(){return""!==y.email?(L.email_err="",!0):(L.email_err="Please fill field",!1)}function A(){return""!==y.password?(L.password_err="",!0):(L.password_err="Please fill field",!1)}async function R(e){try{await _.A.ResendConfirmationMail({confirmationEmail:e});w.push({name:"email-activation",query:{confirmationEmail:e}})}catch(t){console.log(t)}}async function W(){if(h()&&A()){a.toggle_loading_overlay(!0);try{const e=await _.A.login(y);n.logged_In(e.admin,e.isAuthenticated),a.backend_message=`Welcome ${e.admin.email}`,a.display_success_alert_box(),window.location.replace("/account/dashboard")}catch(t){"Account not verified. Please verify your email"===t.response?.data?.message&&await R(y.email)}}a.toggle_loading_overlay(!1)}return(0,l.$u)((()=>{h(),A()})),(0,l.sV)((()=>{u.A.allowScroll()})),(0,l.$u)((()=>{u.A.allowScroll()})),(e,n)=>{const c=(0,l.g2)("font-awesome-icon"),u=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(r.A,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,o.v_)((0,s.R1)(a).backend_message),1)])),_:1}),(0,l.bF)(t.A,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,o.v_)((0,s.R1)(a).backend_message),1)])),_:1}),(0,l.bF)(d.A),(0,l.Lk)("div",m,[n[8]||(n[8]=(0,l.Lk)("h1",null,"Admin Login",-1)),(0,l.Lk)("form",null,[(0,l.Lk)("div",null,[n[2]||(n[2]=(0,l.Lk)("label",{for:"email"},"Email",-1)),(0,l.bo)((0,l.Lk)("input",{type:"email","onUpdate:modelValue":n[0]||(n[0]=e=>(0,s.R1)(y).email=e)},null,512),[[i.Jo,(0,s.R1)(y).email]]),(0,l.Lk)("p",k,(0,o.v_)((0,s.R1)(L).email_err),1)]),(0,l.Lk)("div",null,[n[3]||(n[3]=(0,l.Lk)("label",{for:"password"},"Password",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password","onUpdate:modelValue":n[1]||(n[1]=e=>(0,s.R1)(y).password=e)},null,512),[[i.Jo,(0,s.R1)(y).password]]),(0,l.Lk)("p",v,(0,o.v_)((0,s.R1)(L).password_err),1)]),(0,l.Lk)("button",{type:"submit",onClick:(0,i.D$)(W,["prevent"]),id:"loginbtn",disabled:e.disablebtn},[e.spinner?((0,l.uX)(),(0,l.Wv)(c,{key:0,class:"fa-solid fa-spinner fa-spin",id:"spinner",icon:"fa-solid fa-spinner"})):(0,l.Q3)("",!0),n[4]||(n[4]=(0,l.eW)(" Login"))],8,g)]),(0,l.Lk)("div",b,[(0,l.bF)(u,{class:"link",to:"/forgot-password"},{default:(0,l.k6)((()=>n[5]||(n[5]=[(0,l.eW)("Forgot password")]))),_:1}),(0,l.Lk)("p",null,[n[7]||(n[7]=(0,l.eW)("Dont have an account? ")),(0,l.bF)(u,{to:"/register",class:"link"},{default:(0,l.k6)((()=>n[6]||(n[6]=[(0,l.eW)("Register")]))),_:1})])])])])}}},y=n(1241);const L=(0,y.A)(w,[["__scopeId","data-v-22b5b0cc"]]);var h=L}}]);
//# sourceMappingURL=692.50f08bf6.js.map