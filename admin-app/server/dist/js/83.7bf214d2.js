"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[83],{7693:function(e,l,t){t.d(l,{A:function(){return F}});t(8992),t(4520),t(3949);var n=t(6768),a=t(5130),r=t(4232),u=t(144),s=t(1387),o=t(5050),i=t(8238);t(3216),t(4542);var d=t(1241);var c=t(9102),v=t(6282),k=t(3321),_=t(868);const p={class:"menu-container"},m={class:"categories"},L=["id","onClick"],g={key:0,class:"menu-items"},f={class:"item-image"},y=["src","alt"],b={class:"item-details"},h={class:"item-name"},E={class:"item-price"},A={class:"item-description"},R={class:"buttons-container"},N={style:{"margin-top":"10px","font-size":"15px"}},C=20;var W={__name:"ItemsList",props:{products:Object},setup(e){(0,s.lq)(),(0,s.rd)();const l=(0,i.j)(),t=(0,_.d)();let d=(0,u.KR)("All");const W=(0,u.KR)(1);(0,u.KR)("");const I=e,{products:F}=(0,u.QW)(I),P=(0,n.EW)((()=>t.categories));(0,n.wB)([()=>l.query,()=>d.value],(()=>{W.value=1}));let w=(0,n.EW)((()=>F.value.filter((e=>{const t="All"===d.value?e:e.category_name===d.value,n=e.name.toLowerCase().slice(0,l.query.length)===l.query.toLowerCase();return t&&n}))));const D=(0,n.EW)((()=>Math.ceil(w.value.length/C))),X=(0,n.EW)((()=>{const e=(W.value-1)*C,l=e+C;return w.value.slice(e,l)}));function O(e){d.value=e;const l=document.querySelectorAll(".router_link");l.forEach((e=>{e.style=e.id===d.value?"background-color: var(--primary-blue); color: white":""}))}return(0,n.sV)((()=>{O("All")})),(e,l)=>{const t=(0,n.g2)("font-awesome-icon"),s=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",p,[(0,n.Lk)("div",m,[(0,n.Lk)("b",{class:"router_link",id:"All",onClick:l[0]||(l[0]=(0,a.D$)((e=>O("All")),["prevent"])),style:""}," All "),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(P.value,(e=>((0,n.uX)(),(0,n.CE)("b",{key:e.id,class:"router_link",id:e.name,onClick:(0,a.D$)((l=>O(e.name)),["prevent"]),style:""},(0,r.v_)(e.name),9,L)))),128))]),(0,n.bF)(s,{to:"/account/add-item",id:"add-item"},{default:(0,n.k6)((()=>[l[2]||(l[2]=(0,n.eW)("Add Item ")),(0,n.bF)(t,{class:"fa-solid fa-plus",icon:"fa-solid fa-plus"})])),_:1}),X.value.length>0?((0,n.uX)(),(0,n.CE)("div",g,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(X.value,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"menu-item"},[(0,n.bF)(c.A,{class:"right-badge",product:e},null,8,["product"]),(0,n.bF)(v.A,{class:"left-badge",product:e},null,8,["product"]),(0,n.Lk)("div",f,[(0,n.Lk)("img",{src:`${e.main_image}`,alt:e.name},null,8,y)]),(0,n.Lk)("div",b,[(0,n.Lk)("h3",h,(0,r.v_)(e.name),1),(0,n.Lk)("p",E,(0,r.v_)(new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(e.price)),1),(0,n.Lk)("p",A,(0,r.v_)(e.description.length>80?e.description.slice(0,80)+"...":e.description),1),(0,n.Lk)("div",R,[(0,n.bF)(s,{to:"/account/edit-item/"+e.product_id,class:"edit-button"},{default:(0,n.k6)((()=>l[3]||(l[3]=[(0,n.eW)("Edit")]))),_:2},1032,["to"])])])])))),128))])):((0,n.uX)(),(0,n.Wv)(o.A,{key:1},{default:(0,n.k6)((()=>l[4]||(l[4]=[(0,n.eW)("No Items Found")]))),_:1})),(0,n.Lk)("p",N,"Showing "+(0,r.v_)(X.value.length)+" of "+(0,r.v_)((0,u.R1)(w).length),1),X.value.length>0?((0,n.uX)(),(0,n.Wv)(k.A,{key:2,currentPage:W.value,totalPages:D.value,"onUpdate:currentPage":l[1]||(l[1]=e=>W.value=e)},null,8,["currentPage","totalPages"])):(0,n.Q3)("",!0)])}}};const I=(0,d.A)(W,[["__scopeId","data-v-f2945ff4"]]);var F=I},3321:function(e,l,t){t.d(l,{A:function(){return c}});var n=t(6768),a=t(4232);const r={class:"pagination"},u=["disabled"],s=["disabled"];var o={__name:"Pagination",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0}},emits:["update:currentPage"],setup(e,{emit:l}){const t=e,o=l,i=()=>{t.currentPage<t.totalPages&&o("update:currentPage",t.currentPage+1)},d=()=>{t.currentPage>1&&o("update:currentPage",t.currentPage-1)};return(l,t)=>((0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("button",{disabled:1===e.currentPage,onClick:d,class:"pagination-button"},"Previous",8,u),(0,n.Lk)("span",null,"Page "+(0,a.v_)(e.currentPage)+" of "+(0,a.v_)(e.totalPages),1),(0,n.Lk)("button",{disabled:e.currentPage===e.totalPages,onClick:i,class:"pagination-button"},"Next",8,s)]))}},i=t(1241);const d=(0,i.A)(o,[["__scopeId","data-v-7fef024a"]]);var c=d},4954:function(e,l,t){t.r(l),t.d(l,{default:function(){return Z}});t(4114),t(8992),t(4520),t(2577);var n=t(6768),a=t(4232),r=t(144),u=t(1387),s=t(3306),o=t(7809),i=t(4542),d=t(8238),c=t(4621),v={__name:"CancelOrderBtn",props:{order:Object},setup(e){(0,c.e)();const l=(0,d.j)(),t=e,{order:a}=(0,r.QW)(t);function u(e){l.toggle_cancel_order_modal(!0,{order_id:e.order_id,user_id:e.user_id})}return(e,l)=>((0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("button",{id:"reject",onClick:l[0]||(l[0]=e=>u((0,r.R1)(a)))},"Cancel Order")]))}},k=t(1241);const _=(0,k.A)(v,[["__scopeId","data-v-70fa3ea5"]]);var p=_,m=t(5230),L=t(7043),g=t(236),f=t(3604);t(7693);const y={key:0,class:"refund-status"};var b={__name:"RefundStatus",props:{order:Object},setup(e){const l=e,t=(0,c.e)(),r=(0,d.j)(),u=(0,n.EW)((()=>"online payment"===l.order.payment_method&&"success"===l.order.payment_status)),s=(0,n.EW)((()=>{switch(l.order.refund_status){case"pending":return"Refund processing (7â€“12 business days)";case"refunded":return"Refund completed";case"failed":return"Refund failed";default:return"No refund initiated"}})),o=(0,n.EW)((()=>({pending:"pending"===l.order.refund_status,success:"refunded"===l.order.refund_status,failed:"failed"===l.order.refund_status}))),v=(0,n.EW)((()=>"failed"===l.order.refund_status));async function k(){r.toggle_loading_overlay(!0);try{await i.A.retry_refund({order_id:l.order.order_id});await t.fetch_orders(),r.backend_message="Refund retry initiated",r.display_success_alert_box(!0)}catch(e){console.log(e)}finally{r.toggle_loading_overlay(!1)}}return(e,l)=>u.value?((0,n.uX)(),(0,n.CE)("div",y,[l[0]||(l[0]=(0,n.Lk)("h2",null,"REFUND STATUS",-1)),(0,n.Lk)("p",{class:(0,a.C4)(o.value)},(0,a.v_)(s.value),3),v.value?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:k,class:"retry-btn"}," Retry Refund ")):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)}};const h=(0,k.A)(b,[["__scopeId","data-v-42b44700"]]);var E=h,A=t(7507),R=t(4549),N=t(2090);const C={id:"receipt",class:"receipt"},W={class:"summary"};var I={__name:"Receipt",props:{order:{type:Object,required:!0}},setup(e){const l=(0,R.g)(),t=e=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(e),u=()=>{const e=document.getElementById("receipt").innerHTML,l="\n    <style>\n      body { font-family: Arial, sans-serif; margin: 0; }\n      .receipt { max-width: 300px; margin: auto; padding: 10px; }\n      .receipt h1 { font-size: 16px; text-align: center; }\n      .receipt p, .receipt table { margin-top: 5px; }\n      table { width: 100%; border-collapse: collapse; }\n      th, td { padding: 4px; text-align: left; }\n    </style>\n  ",t=window.open("","_blank");t.document.write(`\n    <html>\n      <head>\n        <title>Receipt</title>\n        ${l}\n      </head>\n      <body>${e}</body>\n    </html>\n  `),t.document.close(),t.print()};return(s,o)=>((0,n.uX)(),(0,n.CE)("div",C,[o[7]||(o[7]=(0,n.Lk)("header",null,[(0,n.Lk)("h1",null,"Taste It"),(0,n.Lk)("p",null,[(0,n.Lk)("strong",null,"Phone:"),(0,n.eW)(" +234 7063131606")]),(0,n.Lk)("p",null,[(0,n.Lk)("strong",null,"Email:"),(0,n.eW)(" support@kelvinspice.com.ng")]),(0,n.Lk)("p",null,[(0,n.Lk)("strong",null,"Website:"),(0,n.eW)(),(0,n.Lk)("a",{href:"https://mosesfoodorderingapp.kelvinspice.com.ng",target:"_blank"},"www.mosesfoodorderingapp.kelvinspice.com.ng/")]),(0,n.Lk)("hr")],-1)),(0,n.Lk)("section",null,[(0,n.Lk)("p",null,[o[0]||(o[0]=(0,n.Lk)("strong",null,"Order ID:",-1)),(0,n.eW)(" #"+(0,a.v_)(e.order.order_id),1)]),(0,n.Lk)("p",null,[o[1]||(o[1]=(0,n.Lk)("strong",null,"Confirmation Pin:",-1)),(0,n.eW)(" "+(0,a.v_)(e.order.confirmation_pin),1)]),(0,n.Lk)("p",null,[o[2]||(o[2]=(0,n.Lk)("strong",null,"Date:",-1)),(0,n.eW)(" "+(0,a.v_)((0,r.R1)(N.A).formatted_date(e.order.date_created)),1)])]),(0,n.Lk)("table",null,[o[3]||(o[3]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Item"),(0,n.Lk)("th",null,"Quantity"),(0,n.Lk)("th",null,"Price")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(JSON.parse(e.order.items),(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.name},[(0,n.Lk)("td",null,(0,a.v_)(e.name),1),(0,n.Lk)("td",null,(0,a.v_)(e.quantity),1),(0,n.Lk)("td",null,(0,a.v_)(t(e.total)),1)])))),128))])]),(0,n.Lk)("section",W,[(0,n.Lk)("p",null,[o[4]||(o[4]=(0,n.Lk)("strong",null,"Subtotal:",-1)),(0,n.eW)(" "+(0,a.v_)(t(e.order.sub_total_order_cost)),1)]),(0,n.Lk)("p",null,[o[5]||(o[5]=(0,n.Lk)("strong",null,"Service Fee:",-1)),(0,n.eW)(" "+(0,a.v_)(t((0,r.R1)(l).website_info.service_fee)),1)]),(0,n.Lk)("p",null,[o[6]||(o[6]=(0,n.Lk)("strong",null,"Total:",-1)),(0,n.eW)(" "+(0,a.v_)(t(e.order.total_order_cost)),1)])]),(0,n.Lk)("button",{onClick:u},"Print")]))}};const F=(0,k.A)(I,[["__scopeId","data-v-0fe19285"]]);var P=F,w=t(5149);const D={class:"flex_container"},X={class:"order_details"},O={key:0},S={class:"order_items"},T={class:"menu-items"},x={class:"item-image"},G=["src","alt"],q={class:"item-details"},j={class:"item-name"},Q={class:"item-price"},B={style:{float:"right"}},K={style:{float:"right"}},M={style:{float:"right"}},U={class:"user_details"},V={class:"grid"},$={class:"grid"},Y={class:"grid"},H={class:"grid"};var z={__name:"View-Order",setup(e){const l=(0,u.lq)(),t=(0,u.rd)(),i=(0,c.e)(),v=(0,d.j)(),k=(0,R.g)();k.isAuthenticated||t.push({path:"/login"}),(0,n.wB)((()=>k.isAuthenticated),(e=>{e||(v.backend_message="session expired",v.display_success_alert_box(!0),setTimeout((()=>{t.push({path:"/login"})}),1e3))}));const _=(0,n.EW)((()=>i.orders.find((e=>e.order_id==l.params.order_id))));_.value||t.push({name:"dashboard"});const y=(0,n.EW)((()=>i.order_items.filter((e=>e.order_id==l.params.order_id)))),b=(0,r.KR)(null);return(e,l)=>{const t=(0,n.g2)("SUCCESSALERTBOX"),u=(0,n.g2)("ERRORALERTBOX"),i=(0,n.g2)("font-awesome-icon");return(0,n.uX)(),(0,n.CE)("div",{class:"container",style:(0,a.Tr)((0,r.R1)(v).container_css)},[(0,n.bF)(f.A),(0,n.bF)(t,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)((0,r.R1)(v).backend_message),1)])),_:1}),(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)((0,r.R1)(v).backend_message),1)])),_:1}),(0,n.bF)(w.A),(0,n.Lk)("div",{class:"sub_container",style:(0,a.Tr)((0,r.R1)(v).sub_container_css)},[(0,n.bF)(s.A),(0,n.Lk)("h1",null,"Order ID - #"+(0,a.v_)(_.value.order_id),1),"pending"==_.value.order_status?((0,n.uX)(),(0,n.Wv)(g.A,{key:0,order:_.value},null,8,["order"])):((0,n.uX)(),(0,n.Wv)(A.A,{key:1,order:_.value},null,8,["order"])),(0,n.bF)(o.A,{order:_.value},null,8,["order"]),(0,n.bF)(m.A),(0,n.bF)(L.A),(0,n.Lk)("div",D,[(0,n.Lk)("div",X,[(0,n.Lk)("div",null,[l[0]||(l[0]=(0,n.Lk)("h2",null,"ORDER DATE",-1)),(0,n.Lk)("p",null,(0,a.v_)((0,r.R1)(N.A).formatted_date(_.value.created_at)),1)]),(0,n.Lk)("div",null,[l[1]||(l[1]=(0,n.Lk)("h2",null,"DELIVERY DATE",-1)),(0,n.Lk)("p",null,(0,a.v_)(new Date(_.value.created_at).toLocaleDateString())+" - "+(0,a.v_)(_.value.delivery_date?new Date(_.value.delivery_date).toLocaleDateString():""),1)]),(0,n.Lk)("div",null,[l[2]||(l[2]=(0,n.Lk)("h2",null,"PAYMENT METHOD",-1)),(0,n.Lk)("p",null,(0,a.v_)(_.value.payment_method),1)]),(0,n.Lk)("div",null,[l[3]||(l[3]=(0,n.Lk)("h2",null,"CONFIRMATION PIN",-1)),(0,n.Lk)("p",null,(0,a.v_)(_.value.confirmation_pin),1)]),(0,n.Lk)("div",null,[l[4]||(l[4]=(0,n.Lk)("h2",null,"DELIVERY ADDRESSS",-1)),(0,n.Lk)("p",null,(0,a.v_)(y.value[0].address),1)]),y.value[0].note?((0,n.uX)(),(0,n.CE)("div",O,[l[5]||(l[5]=(0,n.Lk)("h2",null,"NOTE",-1)),(0,n.Lk)("p",null,(0,a.v_)(y.value[0].note),1)])):(0,n.Q3)("",!0),(0,n.bF)(E,{order:_.value},null,8,["order"])]),(0,n.Lk)("div",S,[(0,n.Lk)("h2",null,"GADGETS ORDERED ("+(0,a.v_)(_.value.total_items)+")",1),(0,n.Lk)("div",T,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(y.value,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.name,class:"menu-item"},[(0,n.Lk)("div",x,[(0,n.Lk)("img",{src:`${e.main_image}`,alt:e.name},null,8,G)]),(0,n.Lk)("div",q,[(0,n.Lk)("h3",j,(0,a.v_)(e.product_name)+" x "+(0,a.v_)(e.quantity),1),(0,n.Lk)("p",Q,(0,a.v_)(new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(e.price)),1)])])))),128))]),(0,n.Lk)("h1",null,[l[6]||(l[6]=(0,n.eW)("SUB TOTAL PRICE: ")),(0,n.Lk)("b",B,(0,a.v_)(new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(_.value.total_amount-_.value.delivery_fee)),1)]),(0,n.Lk)("h1",null,[l[7]||(l[7]=(0,n.eW)("DELIVERY FEE: ")),(0,n.Lk)("b",K,(0,a.v_)(new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(_.value.delivery_fee)),1)]),(0,n.Lk)("h1",null,[l[8]||(l[8]=(0,n.eW)("TOTAL PRICE: ")),(0,n.Lk)("b",M,(0,a.v_)(new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(_.value.total_amount)),1)])]),(0,n.Lk)("div",U,[(0,n.Lk)("div",V,[(0,n.Lk)("div",null,[l[9]||(l[9]=(0,n.Lk)("h2",null,"USER NAME",-1)),(0,n.Lk)("p",null,(0,a.v_)(y.value[0].customer_name),1)]),(0,n.Lk)("div",null,[(0,n.bF)(i,{class:"fa-solid fa-user icons",icon:"fa-solid fa-user"})])]),(0,n.Lk)("div",$,[(0,n.Lk)("div",null,[l[10]||(l[10]=(0,n.Lk)("h2",null,"EMAIL",-1)),(0,n.Lk)("p",null,(0,a.v_)(y.value[0].email),1)]),(0,n.Lk)("div",null,[(0,n.bF)(i,{class:"fa-solid fa-message icons",icon:"fa-solid fa-message"})])]),(0,n.Lk)("div",Y,[(0,n.Lk)("div",null,[l[11]||(l[11]=(0,n.Lk)("h2",null,"PHONE NUMBER",-1)),(0,n.Lk)("p",null,(0,a.v_)(y.value[0].phone),1)]),(0,n.Lk)("div",null,[(0,n.bF)(i,{class:"fa-solid fa-phone icons",icon:"fa-solid fa-phone"})])]),(0,n.Lk)("div",H,[(0,n.Lk)("div",null,[l[12]||(l[12]=(0,n.Lk)("h2",null,"DELIVERY ADDRESS",-1)),(0,n.Lk)("p",null,(0,a.v_)(y.value[0].address),1)]),(0,n.Lk)("div",null,[(0,n.bF)(i,{class:"fa-solid fa-location icons",icon:"fa-solid fa-location"})])])]),(0,n.Lk)("div",null,[b.value?((0,n.uX)(),(0,n.Wv)(P,{key:0,order:b.value},null,8,["order"])):(0,n.Q3)("",!0)])]),"delivered"!=_.value.order_status&&"cancelled"!=_.value.order_status?((0,n.uX)(),(0,n.Wv)(p,{key:2,order:_.value},null,8,["order"])):(0,n.Q3)("",!0)],4)],4)}}};const J=(0,k.A)(z,[["__scopeId","data-v-1e2552b0"]]);var Z=J}}]);
//# sourceMappingURL=83.7bf214d2.js.map