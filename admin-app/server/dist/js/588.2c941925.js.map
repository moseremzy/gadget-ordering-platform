{"version":3,"file":"js/588.2c941925.js","mappings":"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","sources":["webpack://client/./src/views/Edit-Item.vue","webpack://client/./src/views/Edit-Item.vue?ac97"],"sourcesContent":["<template>\r\n\r\n<div class=\"container\" :style = \"interactive_store.container_css\">\r\n\r\n    <OVERLAY/>\r\n\r\n    <SUCCESSALERTBOX>{{interactive_store.backend_message}}</SUCCESSALERTBOX>\r\n\r\n    <ERRORALERTBOX>{{interactive_store.backend_message}}</ERRORALERTBOX>\r\n\r\n   <SIDEBAR/> <!--side bar--> \r\n\r\n    <div class=\"sub_container\" :style = \"interactive_store.sub_container_css\">\r\n\r\n    <HEADER page_name = \"edit-item\"/> <!--header--> \r\n\r\n    <h1>Edit {{item_info.name}}</h1>\r\n    <div class=\"add-item-form-container\">\r\n    <Status class = \"left-badge\" :product = item_info />\r\n    <Availability class = \"right-badge\" :product = item_info />\r\n    <!-- <h2 class=\"form-title\"><slot name=\"form-title\"></slot></h2> -->\r\n      <form enctype = \"multipart/form-data\" method = \"post\" action = \"/update_photo\">\r\n      <div class = \"profile\">\r\n        <!-- Image -->\r\n        <div>\r\n        <img :src=\"item_info.main_image\" class=\"media\">\r\n        <label for=\"imageFile\">\r\n          <font-awesome-icon style=\"font-size: 14px;\" icon=\"fa-solid fa-camera\"/> Change Photo\r\n          <input type=\"file\" @change=\"updateMedia('image')\" id=\"imageFile\" ref=\"imageInput\" accept=\"image/*\">\r\n        </label>\r\n        </div>\r\n\r\n        \r\n      <!-- Video -->\r\n      <div>\r\n      <video v-if=\"item_info.main_video\" :src=\"item_info.main_video\" controls class = \"media\"></video>\r\n      <label for=\"videoFile\">\r\n        <font-awesome-icon style=\"font-size: 14px;\" icon=\"fa-solid fa-video\"/> {{ item_info.main_video ? 'Change Video' : 'Add Video' }}\r\n        <input type=\"file\" @change=\"updateMedia('video')\" id=\"videoFile\" ref=\"videoInput\" accept=\"video/*\">\r\n      </label>\r\n      <!-- Delete Video -->\r\n      <button v-if=\"item_info.main_video\" @click.prevent = \"deleteVideo(item_info.product_id)\" class=\"delete-btn\"><font-awesome-icon style=\"font-size: 14px;\" icon=\"fa-solid fa-trash\"/></button>\r\n      </div>\r\n    </div>\r\n    </form>\r\n    <form class=\"add-item-form grid-form\">\r\n      <!-- Item Name -->\r\n      <div class=\"form-group grid-full\">\r\n        <label for=\"item-name\" class=\"form-label\">Item Name</label>\r\n        <input type=\"text\" id=\"item-name\" v-model = \"item_info.name\" class=\"form-input\" placeholder=\"Enter item name\" required />\r\n        <p class=\"err\">{{item_info_error.name_err}}</p>\r\n      </div>\r\n\r\n      <!-- Item Price -->\r\n      <div class=\"form-group\">\r\n        <label for=\"item-price\" class=\"form-label\">Item Price</label>\r\n        <input type=\"number\" v-model = \"item_info.price\" id=\"item-price\" class=\"form-input\" placeholder=\"Enter item price\" required />\r\n        <p class=\"err\">{{item_info_error.price_err}}</p>\r\n      </div>\r\n\r\n\r\n      <!-- Item Category -->\r\n      <div class=\"form-group\">\r\n        <label for=\"item-category\" class=\"form-label\">Item Category</label>\r\n        <select id=\"item-category\" v-model = \"item_info.category_id\" class=\"form-input\" required>\r\n          <option value=\"\">Select Category</option>\r\n          <option v-for=\"cat in categories\" :key=\"cat.category_id\" :value=\"cat.category_id\">\r\n            {{ cat.name }}\r\n          </option>\r\n        </select>\r\n        <p class=\"err\">{{item_info_error.category_err}}</p>\r\n      </div>\r\n\r\n      <!-- Item Condition -->\r\n      <div class=\"form-group\">\r\n        <label for=\"item-condition\" class=\"form-label\">Item Condition</label>\r\n        <select id=\"item-condition\" v-model = \"item_info.product_condition\" class=\"form-input\" required>\r\n          <option value=\"\">Select Condition</option>\r\n          <option value=\"new\">New</option>\r\n          <option value=\"uk_used\">Uk Used</option>\r\n          <option value=\"refurbished\">Refurbished</option>\r\n        </select>\r\n        <p class=\"err\">{{item_info_error.condition_err}}</p>\r\n      </div>\r\n\r\n\r\n      <!-- Item Availability -->\r\n      <div class=\"form-group\">\r\n        <label for=\"item-quantity\" class=\"form-label\">Item Quantity</label>\r\n          <input type = \"number\" id=\"item-quantity\" min=\"1\" placeholder=\"Stock Quantity\" v-model = \"item_info.stock_quantity\" class=\"form-input\" required>        \r\n        <p class=\"err\">{{item_info_error.quantity_err}}</p>\r\n      </div>\r\n\r\n      <!-- Item Status -->\r\n      <div class=\"form-group\">\r\n        <label for=\"item-status\" class=\"form-label\">Item Status</label>\r\n        <select id=\"item-status\" v-model = \"item_info.status\" class=\"form-input\" required>\r\n          <option value=\"\">Select Status</option>\r\n          <option value=\"active\">Active</option>\r\n          <option value=\"inactive\">Inactive</option>\r\n        </select>\r\n        <p class=\"err\">{{item_info_error.status_err}}</p>\r\n      </div>\r\n\r\n      <!-- Item Description -->\r\n      <div class=\"form-group grid-full\">\r\n        <label for=\"item-description\" class=\"form-label\">Item Description</label>\r\n        <textarea id=\"item-description\" v-model = \"item_info.description\" class=\"form-input\" placeholder=\"Enter item description\" rows=\"4\" required></textarea>\r\n        <p class=\"err\">{{item_info_error.description_err}}</p>\r\n        <p class=\"err\" style=\"color: gray;\" ref = \"description_counter\">{{item_info.description.length}}/400 characters</p>\r\n      </div>\r\n\r\n      <!-- Submit Button -->\r\n      <div class=\"form-group grid-full\">\r\n        <button type=\"submit\" @click.prevent = \"UpdateItem\" class=\"submit-button\">Submit</button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n\r\n </div> <!-- SUB_CONTAINER -->\r\n</div> <!-- CONTAINER -->\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport { onMounted, onUnmounted, onUpdated, computed, reactive, toRaw, ref, watch} from 'vue'\r\n\r\nimport { useAdminStore } from '@/stores/admin'\r\n\r\nimport HEADER from '../components/Header.vue';\r\n\r\nimport OVERLAY from '../components/modals/loading_overlay.vue';\r\n\r\nimport SIDEBAR from '../components/SideBar.vue';\r\n\r\nimport Status from '../components/Status.vue'\r\n\r\nimport Availability from '../components/Availability.vue'\r\n\r\nimport { useInteractiveStore } from '@/stores/interactive'\r\n\r\nimport { useRoute, useRouter } from 'vue-router'\r\n\r\nimport { useCategoriesStore } from '@/stores/categories'\r\n\r\nimport { useProductStore } from '@/stores/products'\r\n\r\nimport MIDDLEWARES from \"@/middlewares/middlewares.js\"\r\n\r\nimport API from \"../api/index\";\r\n\r\nconst interactive_store = useInteractiveStore()\r\n\r\nconst admin_store = useAdminStore()\r\n\r\nconst route = useRoute()\r\nconst router = useRouter()\r\n\r\nconst products_store = useProductStore();\r\n\r\nconst categories_store = useCategoriesStore()\r\n\r\nconst base_url = process.env.VUE_APP_API_BASE_URL\r\n\r\nlet description_counter = ref(null)\r\n\r\nlet itemImage = ref(\"\")\r\n\r\nlet imageInput = ref(null)\r\n\r\nlet videoInput = ref(null)\r\n\r\nconst item_id = route.params.item_id\r\n\r\nlet item_info = reactive([])\r\n\r\nlet item_info_error = reactive({\r\n    name_err: \"\",\r\n    price_err: \"\",\r\n    description_err: \"\",\r\n    category_err: \"\",\r\n    condition_err: \"\",\r\n    quantity_err: \"\",\r\n    status_err: \"\",\r\n    image_err: \"\"\r\n})\r\n\r\nif (!admin_store.isAuthenticated) { //if user no get session redirect to login\r\n\r\n    router.push({ path: \"/login\" })\r\n\r\n}\r\n\r\n\r\nwatch( () => admin_store.isAuthenticated,\r\n\r\n  (isAuthenticated) => { //i dey confirm if admin still dey authenticated\r\n\r\n    if (!isAuthenticated) {\r\n\r\n        interactive_store.backend_message = \"session expired\"\r\n\r\n        interactive_store.display_success_alert_box(true)\r\n\r\n        setTimeout(() => {\r\n\r\n           router.push({ path: \"/login\" })\r\n            \r\n        }, 1000);\r\n\r\n    }\r\n  }, \r\n);\r\n\r\n\r\n\r\n\r\nconst categories = computed(() => {\r\n\r\n  return categories_store.categories\r\n\r\n})\r\n\r\n\r\nfunction getItems(item_id) { \r\n\r\n item_info = products_store.products.find((product) => { //get individual item\r\n\r\n    return product.product_id == item_id;\r\n\r\n  })\r\n\r\n \r\nif (!item_info) { //if item nor dey. redirect to page not found\r\n\r\n   router.push({name: \"dashboard\"})\r\n    \r\n}\r\n\r\n}\r\n\r\ngetItems(item_id)\r\n\r\n\r\nonUpdated(() => {\r\n    namevalidated()\r\n    pricevalidated()\r\n    descriptionvalidated()\r\n    categoryvalidated()\r\n    conditionvalidated()\r\n    quantityvalidated()\r\n    statusvalidated()\r\n})\r\n\r\n\r\n\r\nfunction namevalidated() {\r\n  let pattern = /^[A-Za-z0-9\\s]+$/;\r\n    if (item_info.name === \"\") {\r\n        item_info_error.name_err = \"Please fill the field\";\r\n    } else {\r\n        item_info_error.name_err = \"\";\r\n        return true;        \r\n    }\r\n}\r\n\r\n\r\n\r\nfunction pricevalidated() {\r\n    \r\n    if (item_info.price === \"\") {\r\n    \r\n        item_info_error.price_err = \"Please fill field\";\r\n    \r\n    }  else {\r\n    \r\n        item_info_error.price_err = \"\"\r\n        \r\n        return true;\r\n        \r\n    }\r\n}\r\n\r\n \r\n\r\nfunction categoryvalidated() {\r\n    \r\n    if (item_info.category_id === \"\" || item_info.category_id == \"Select Category\") {\r\n    \r\n        item_info_error.category_err = \"Please fill field\";\r\n    \r\n    } else {\r\n    \r\n        item_info_error.category_err = \"\"\r\n        \r\n        return true;        \r\n   }\r\n\r\n}\r\n\r\n\r\n\r\nfunction conditionvalidated() {\r\n    \r\n    if (item_info.product_condition === \"\" || item_info.product_condition == \"Select Condition\") {\r\n    \r\n        item_info_error.condition_err = \"Please fill field\";\r\n    \r\n    } else {\r\n    \r\n        item_info_error.condition_err = \"\"\r\n        \r\n        return true;        \r\n   }\r\n\r\n}\r\n\r\n\r\n\r\nfunction quantityvalidated() {\r\n    \r\n    if (item_info.stock_quantity === \"\") {\r\n    \r\n      item_info_error.quantity_err = \"Please fill field\";\r\n    \r\n    } else {\r\n    \r\n        item_info_error.quantity_err = \"\"\r\n        \r\n        return true;        \r\n   }\r\n\r\n}\r\n\r\n\r\n\r\nfunction statusvalidated() {\r\n    \r\n    if (item_info.status === \"\") {\r\n    \r\n      item_info_error.status_err = \"Please fill field\";\r\n    \r\n    } else {\r\n    \r\n        item_info_error.status_err = \"\"\r\n        \r\n        return true;        \r\n   }\r\n\r\n}\r\n\r\n\r\n\r\n\r\nfunction descriptionvalidated() {\r\n\r\n    if (item_info.description.length >= 400) {\r\n\r\n       item_info.description = item_info.description.slice(0, 400)\r\n        \r\n       description_counter.value.attributes[2].nodeValue = \"color: red;\"\r\n    \r\n    } else if (item_info.description == \"\") {\r\n\r\n      item_info_error.description_err = \"Please fill field\";\r\n      \r\n    } else {\r\n       \r\n       description_counter.value.attributes[2].nodeValue = \"color: gray;\"\r\n\r\n       item_info_error.description_err = \"\";\r\n    \r\n       return true\r\n    \r\n    }\r\n}\r\n\r\n\r\n\r\nasync function updateMedia(type) {\r\n  const fileInput = type === \"image\" ? imageInput.value : videoInput.value\r\n  const file = fileInput.files[0]\r\n\r\n  if (!file) {\r\n    interactive_store.backend_message = `Please upload a ${type}`\r\n    interactive_store.display_error_alert_box()\r\n    return\r\n  }\r\n\r\n  // Validate file type\r\n  const allowedImageTypes = [\"image/png\", \"image/jpeg\", \"image/jpg\", \"image/webp\"]\r\n  const allowedVideoTypes = [\"video/mp4\", \"video/quicktime\", \"video/webm\"]\r\n\r\n  if (type === \"image\" && !allowedImageTypes.includes(file.type)) {\r\n    interactive_store.backend_message = \"Invalid image file\"\r\n    interactive_store.display_error_alert_box()\r\n    return\r\n  }\r\n  if (type === \"video\" && !allowedVideoTypes.includes(file.type)) {\r\n    interactive_store.backend_message = \"Invalid video file\"\r\n    interactive_store.display_error_alert_box()\r\n    return\r\n  }\r\n\r\n  // Limit file sizes (image not more than 5mb, video not more than 30mb)\r\n  if ((type === \"image\" && file.size > 5 * 1024 * 1024) || (type === \"video\" && file.size > 30 * 1024 * 1024)) {\r\n    interactive_store.backend_message = type === \"image\" ? \"Image can't be larger than 5MB\" : \"Video can't be larger than 30MB\"\r\n    interactive_store.display_error_alert_box()\r\n    return\r\n  }\r\n\r\n  const formData = new FormData()\r\n  formData.append(\"item_id\", item_info.product_id)\r\n  formData.append(\"current_media_url\", type === \"image\" ? item_info.main_image : item_info.main_video)\r\n  formData.append(type, file, file.name)\r\n\r\n  interactive_store.toggle_loading_overlay(true)\r\n\r\n  try {\r\n    const response = type === \"image\" \r\n      ? await API.update_photo(formData) \r\n      : await API.update_video(formData) // create a separate API endpoint for video\r\n\r\n    if (type === \"image\") item_info.main_image = response.data.main_image\r\n    else item_info.main_video = response.data.main_video\r\n\r\n    interactive_store.backend_message = `${type.charAt(0).toUpperCase() + type.slice(1)} updated successfully`\r\n    \r\n    interactive_store.display_success_alert_box()\r\n  \r\n  } catch (error) {\r\n    \r\n    console.log(error)\r\n  \r\n  }\r\n\r\n  interactive_store.toggle_loading_overlay(false)\r\n}\r\n\r\n// Delete video\r\nasync function deleteVideo(item_id) {\r\n\r\n  if (!item_info.main_video) return\r\n\r\n  interactive_store.toggle_loading_overlay(true)\r\n  \r\n  try {\r\n    \r\n    await API.delete_video({ data: {\r\n      \r\n      current_media_url: item_info.main_video,\r\n\r\n      item_id: item_id\r\n    \r\n      }\r\n    \r\n    })\r\n    \r\n    item_info.main_video = null\r\n    \r\n    interactive_store.backend_message = \"Video deleted successfully\"\r\n    \r\n    interactive_store.display_success_alert_box()\r\n  \r\n  } catch (error) {\r\n    \r\n    console.log(error) \r\n\r\n  }\r\n\r\n  interactive_store.toggle_loading_overlay(false)\r\n\r\n}\r\n\r\n \r\n\r\nasync function UpdateItem(e) {\r\n \r\n    if (namevalidated() && pricevalidated() && categoryvalidated() && descriptionvalidated() && conditionvalidated() && quantityvalidated() && statusvalidated()) {\r\n\r\n        interactive_store.toggle_loading_overlay(true);\r\n\r\n        try {\r\n            \r\n            const response = await API.update_item({\r\n\r\n              ...item_info\r\n\r\n            }); \r\n            \r\n            await products_store.fetch_products() //refetch items to update item\r\n\r\n            interactive_store.backend_message = \"Item uploaded successfully\";\r\n\r\n            interactive_store.display_success_alert_box();\r\n            \r\n        } catch (error) {\r\n            \r\n            interactive_store.backend_message = \"Error occurred, please try again\";\r\n          \r\n            interactive_store.display_error_alert_box();\r\n        \r\n        }\r\n        \r\n        interactive_store.toggle_loading_overlay(false);\r\n    }\r\n}\r\n\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n/*DESKTOP VIEW*/\r\n@media only screen and (min-width: 992px) {\r\n    body {\r\n        margin: 0;\r\n        padding: 0;\r\n        font-family: \"Roboto\" ,\"Helvetica Neue\",\"Helvetica\",Arial,sans-serif;\r\n        background-color: rgb(225, 230, 231);\r\n    }\r\n    div.container {\r\n        display: flex;\r\n        height: 100vh;\r\n        width: 100%;\r\n        margin: 0;\r\n        padding: 0;\r\n    }\r\n    div.sub_container {\r\n        display: block;\r\n        margin:0 0 0 250px;\r\n        height: 100vh;\r\n        padding: 0 15px 50px 15px;\r\n        width: 100%;\r\n        overflow-y: auto;\r\n        width: calc(100% - 250px);\r\n    }\r\n    div.sub_container h1{\r\n        margin: 0px auto 5px auto;\r\n        color: #0E2E45;\r\n        font-size: 35px;\r\n        font-weight: 300;\r\n    }\r\n}\r\n/* MOBILE VIEW */\r\n@media only screen and (max-width: 992px) {\r\nbody {\r\n    margin: 0;\r\n    padding: 0;\r\n    font-family: \"Roboto\" ,\"Helvetica Neue\",\"Helvetica\",Arial,sans-serif;\r\n    background-color: rgb(225, 230, 231);\r\n}\r\ndiv.container {\r\n    display: flex;\r\n    height: auto; \r\n    width: 100%; \r\n    margin: 0;\r\n    padding: 0;  \r\n}\r\ndiv.sub_container {\r\n    display: block;\r\n    margin:0;\r\n    padding: 0 15px 50px 15px;\r\n    width: 100%; /*calc(100% - 250px)*/;\r\n}\r\ndiv.sub_container h1{\r\n    margin: 0px auto 5px auto;\r\n    color: #0E2E45;\r\n    font-size: 3rem;\r\n    font-weight: 300;\r\n}\r\n}\r\n\r\n\r\n.add-item-form-container {\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  padding: 30px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  position: relative;\r\n  box-shadow: 0 4px 6px rgba(145, 138, 138, 0.1);\r\n}\r\n\r\n.left-badge {\r\n  position: absolute;\r\n  top: 5px;\r\n  left: 5px;\r\n  border-radius: 999px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n}\r\n\r\n.right-badge {\r\n  position: absolute;\r\n  top: 5px;\r\n  right: 12px;\r\n  border-radius: 999px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n}\r\n\r\ndiv.profile{\r\n  width: 100%;\r\n  margin: 0 auto 0 auto;\r\n  text-align: center;\r\n  display: flex; \r\n  gap: 5px;\r\n  flex-wrap: wrap; \r\n  align-items: center; \r\n  justify-content: center;\r\n}\r\n\r\ndiv.profile label {\r\n  display: inline-block; \r\n  margin: 4px 0 0 0;\r\n  font-size: 13px;\r\n  color: #17a2b8;\r\n  padding: 5px;\r\n  border: 1px solid rgb(219, 216, 216);\r\n  font-weight: bolder;\r\n  cursor: pointer;\r\n}\r\n\r\n.media {\r\n  display: block;\r\n  margin: 0 auto 0 auto;\r\n  width: 130px;\r\n  height: 140px;\r\n  image-rendering: auto;\r\n  image-rendering: pixelated;\r\n  image-rendering: crisp-edges;\r\n  image-rendering: -webkit-optimize-contrast; \r\n}\r\n\r\ninput[type ='file'] {\r\n  display: none;\r\n}\r\n\r\n.delete-btn {\r\n  background: #e63946;          /* red = delete */\r\n  border: none;\r\n  color: #ffffff;\r\n  padding: 4px 8px;\r\n  box-sizing: border-box;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  margin-left: 4px;\r\n  transition: background 0.2s ease, transform 0.1s ease;\r\n}\r\n \r\n.delete-btn:hover {\r\n  background: #d62828;\r\n}\r\n\r\n.delete-btn:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n.form-title {\r\n  text-align: center;\r\n  font-size: 24px;\r\n  margin-bottom: 20px;\r\n  color: #333;\r\n}\r\n\r\n.add-item-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n}\r\n\r\n.grid-form {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 20px;\r\n}\r\n\r\n/* Make certain fields span full width */\r\n.grid-full {\r\n  grid-column: span 2;\r\n}\r\n\r\n.form-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.form-label {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  color: #555;\r\n}\r\n\r\n.form-input {\r\n  padding: 10px;\r\n  font-size: 16px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  background-color: #fff;\r\n}\r\n\r\n.form-input:focus {\r\n  border-color: #007bff;\r\n  outline: none;\r\n}\r\n\r\ntextarea.form-input {\r\n  resize: none;\r\n}\r\n\r\n.submit-button {\r\n  padding: 12px 20px;\r\n  font-size: 16px;\r\n  background-color: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.submit-button:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\np.err {\r\n  color: red;\r\n  font-size: 14px;\r\n  margin: 0;\r\n}\r\n\r\n/* Mobile fallback */\r\n@media (max-width: 768px) {\r\n  .grid-form {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .grid-full {\r\n    grid-column: span 1;\r\n  }\r\n}\r\n\r\n</style>\r\n","import script from \"./Edit-Item.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Edit-Item.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Edit-Item.vue?vue&type=style&index=0&id=71ed4b2c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-71ed4b2c\"]])\n\nexport default __exports__"],"names":["interactive_store","useInteractiveStore","admin_store","useAdminStore","route","useRoute","router","useRouter","products_store","useProductStore","categories_store","useCategoriesStore","description_counter","ref","imageInput","videoInput","item_id","params","item_info","reactive","item_info_error","name_err","price_err","description_err","category_err","condition_err","quantity_err","status_err","image_err","isAuthenticated","push","path","watch","backend_message","display_success_alert_box","setTimeout","categories","computed","getItems","products","find","product","product_id","name","namevalidated","pricevalidated","price","categoryvalidated","category_id","conditionvalidated","product_condition","quantityvalidated","stock_quantity","statusvalidated","status","descriptionvalidated","description","length","slice","value","attributes","nodeValue","async","updateMedia","type","fileInput","file","files","display_error_alert_box","allowedImageTypes","allowedVideoTypes","includes","size","formData","FormData","append","main_image","main_video","toggle_loading_overlay","response","API","update_photo","update_video","data","charAt","toUpperCase","error","console","log","deleteVideo","delete_video","current_media_url","UpdateItem","e","update_item","fetch_products","onUpdated","__exports__"],"sourceRoot":""}